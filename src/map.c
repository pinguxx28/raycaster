#include "map.h"

int map[MAP_H * MAP_W] = {
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
	1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,
	1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,
	1,0,0,0,1,0,0,0,1,1,1,0,0,0,0,1,0,1,
	1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,
	1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
	1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,
	1,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,1,
	1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,
	1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,
	1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,
	1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 };

int map_index(int x, int y)
{
	return map[(y) * MAP_W + (x)];
}

void draw_map()
{
	for (int i = 0; i < MAP_LEN; ++i)
	{
		if (!map[i]) continue;

		int x = i % MAP_W;
		int y = i / MAP_W;

		int x_pos = x * TILE_SIZE;
		int y_pos = y * TILE_SIZE;

		float white[] = { 1,1,1 };
		glColor3fv(white);
		draw_rect(x_pos, y_pos, TILE_SIZE, TILE_SIZE);
	}
}
